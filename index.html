<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RealyMedios Radio | Tu Radio Real</title>
  <meta name="description" content="Transmitiendo música variada las 24 horas del día para todos los oyentes.">
  <meta name="keywords" content="radio, música, streaming, podcasts, RealyMedios">
  
  <!-- Favicon -->
  <link rel="icon" type="image/jpeg" href="Logo.jpeg">
  
  <!-- Fuentes -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Estilos CSS -->
  <style>
    /* Variables globales */
    :root {
      --primary-color: #FFA500;
      --secondary-color: #1E1E1E;
      --accent-color: #FF4500;
      --gradient-bg: linear-gradient(135deg, #1E1E1E, #000000);
      --text-light: #f5f5f5;
      --text-muted: #a0a0a0;
      --card-bg: rgba(255, 255, 255, 0.05);
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Reset básico */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: var(--gradient-bg);
      color: var(--text-light);
      overflow-x: hidden;
      line-height: 1.6;
    }

    /* Animaciones */
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
    }

    @keyframes gradient {
      0% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0% 50%;
      }
    }

    /* Header */
    header {
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
      background: rgba(30, 30, 30, 0.95);
      backdrop-filter: blur(10px);
      padding: 15px 20px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      animation: fadeInDown 0.8s ease-out;
    }

    .header-container {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .logo-container img {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      object-fit: cover;
      box-shadow: 0 0 15px rgba(255, 165, 0, 0.5);
      transition: var(--transition);
    }

    .logo-container img:hover {
      transform: rotate(10deg) scale(1.1);
    }

    h1 {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--primary-color);
      margin: 0;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .social-links {
      display: flex;
      gap: 15px;
    }

    .social-links a {
      color: var(--text-light);
      font-size: 1.2rem;
      transition: var(--transition);
    }

    .social-links a:hover {
      color: var(--primary-color);
      transform: translateY(-3px);
    }

    /* Reproductor multimedia */
    .media-player {
      background: var(--card-bg);
      border-radius: 15px;
      padding: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 165, 0, 0.2);
    }

    .player-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .now-playing {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .music-indicator {
      width: 10px;
      height: 10px;
      background-color: var(--accent-color);
      border-radius: 50%;
      animation: pulse 1.5s infinite;
    }

    .player-info-text {
      font-size: 0.9rem;
    }

    .listeners {
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 0.9rem;
      color: var(--text-muted);
    }

    .media-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
    }

    .control-btn {
      background: var(--accent-color);
      color: white;
      border: none;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
      box-shadow: 0 4px 10px rgba(255, 69, 0, 0.3);
    }

    .control-btn:hover {
      transform: scale(1.1);
      background: var(--primary-color);
      box-shadow: 0 6px 15px rgba(255, 165, 0, 0.4);
    }

    .control-btn:active {
      transform: scale(0.95);
    }

    .control-btn:disabled {
      background: rgba(255, 255, 255, 0.2);
      cursor: not-allowed;
      transform: scale(1);
    }

    .play-btn {
      width: 60px;
      height: 60px;
      font-size: 1.5rem;
    }

    #connecting-message {
      text-align: center;
      margin-top: 10px;
      color: var(--accent-color);
      font-weight: 500;
      display: none;
    }

    /* Main */
    main {
      margin-top: 200px;
      padding: 40px 20px;
      max-width: 1200px;
      margin-left: auto;
      margin-right: auto;
    }

    .hero-section {
      text-align: center;
      margin-bottom: 50px;
      animation: fadeInUp 1s ease-out;
    }

    .hero-section h2 {
      font-size: 2.5rem;
      margin-bottom: 15px;
      background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero-section p {
      font-size: 1.1rem;
      color: var(--text-muted);
      max-width: 700px;
      margin: 0 auto 20px;
    }

    .status-badge {
      display: inline-block;
      background: rgba(255, 165, 0, 0.2);
      color: var(--primary-color);
      padding: 8px 15px;
      border-radius: 30px;
      font-size: 0.9rem;
      font-weight: 500;
      border: 1px solid rgba(255, 165, 0, 0.3);
    }

    /* Secciones */
    section {
      margin-bottom: 60px;
      animation: fadeInUp 1s ease-out;
    }

    section h3 {
      font-size: 1.8rem;
      margin-bottom: 25px;
      text-align: center;
      position: relative;
      padding-bottom: 10px;
    }

    section h3::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 3px;
      background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
      border-radius: 3px;
    }

    /* Carrusel */
    .carousel-container {
      position: relative;
      overflow: hidden;
      border-radius: 15px;
    }

    .carousel {
      display: flex;
      transition: transform 0.5s ease;
      gap: 20px;
    }

    .carousel-item {
      min-width: 100%;
      border-radius: 15px;
      overflow: hidden;
      background: var(--card-bg);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      transition: var(--transition);
    }

    .carousel-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
    }

    .carousel-item img {
      width: 100%;
      height: 300px;
      object-fit: cover;
      transition: var(--transition);
    }

    .carousel-item:hover img {
      transform: scale(1.05);
    }

    .carousel-item iframe {
      width: 100%;
      height: 315px;
      border: none;
    }

    .carousel-item-content {
      padding: 20px;
    }

    .carousel-item h4 {
      font-size: 1.3rem;
      margin-bottom: 10px;
      color: var(--primary-color);
    }

    .carousel-controls {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
    }

    .carousel-btn {
      background: var(--card-bg);
      color: var(--text-light);
      border: 1px solid rgba(255, 255, 255, 0.1);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
    }

    .carousel-btn:hover {
      background: var(--accent-color);
      transform: scale(1.1);
    }

    .carousel-indicators {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-top: 15px;
    }

    .indicator {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      cursor: pointer;
      transition: var(--transition);
    }

    .indicator.active {
      background: var(--primary-color);
      width: 25px;
      border-radius: 5px;
    }

    /* Podcasts */
    .podcast-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 25px;
    }

    .podcast-item {
      background: var(--card-bg);
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      transition: var(--transition);
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .podcast-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
    }

    .podcast-item iframe {
      width: 100%;
      height: 200px;
      border: none;
    }

    .podcast-info {
      padding: 20px;
    }

    .podcast-info h4 {
      font-size: 1.2rem;
      margin-bottom: 10px;
      color: var(--primary-color);
    }

    .podcast-info p {
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    /* Encuesta */
    #polls {
      background: var(--card-bg);
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 165, 0, 0.2);
      text-align: center;
    }

    #polls h3 {
      margin-bottom: 20px;
    }

    #polls p {
      margin-bottom: 25px;
      font-size: 1.1rem;
    }

    .poll-btn {
      background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 30px;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 4px 15px rgba(255, 69, 0, 0.3);
    }

    .poll-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(255, 69, 0, 0.4);
    }

    /* Footer */
    footer {
      background: rgba(30, 30, 30, 0.8);
      padding: 40px 20px;
      text-align: center;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
    }

    .footer-social {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 20px;
    }

    .footer-social a {
      color: var(--text-light);
      font-size: 1.5rem;
      transition: var(--transition);
    }

    .footer-social a:hover {
      color: var(--primary-color);
      transform: translateY(-3px);
    }

    .footer-info {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 20px;
    }

    .footer-info p {
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    .copyright {
      color: var(--text-muted);
      font-size: 0.9rem;
      padding-top: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.05);
    }

    /* Responsive */
    @media (min-width: 768px) {
      .carousel-item {
        min-width: calc(50% - 10px);
      }
      
      .podcast-list {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (min-width: 992px) {
      .carousel-item {
        min-width: calc(33.333% - 14px);
      }
      
      .podcast-list {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    @media (max-width: 767px) {
      h1 {
        font-size: 1.5rem;
      }
      
      .hero-section h2 {
        font-size: 2rem;
      }
      
      .header-top {
        flex-direction: column;
        gap: 15px;
      }
      
      .social-links {
        order: 2;
      }
      
      main {
        margin-top: 250px;
      }
    }

    /* Loading animation */
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: var(--primary-color);
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Toast notification */
    .toast {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: rgba(30, 30, 30, 0.9);
      color: white;
      padding: 15px 25px;
      border-radius: 30px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      z-index: 2000;
      opacity: 0;
      transition: all 0.3s ease;
      border-left: 4px solid var(--primary-color);
    }

    .toast.show {
      transform: translateX(-50%) translateY(0);
      opacity: 1;
    }
  </style>
</head>
<body>
  <!-- Header fijo con reproductor multimedia -->
  <header>
    <div class="header-container">
      <div class="header-top">
        <div class="logo-container">
          <img src="Logo.jpeg" alt="Logotipo de RealyMedios Radio">
          <h1>RealyMedios Radio</h1>
        </div>
        <div class="social-links">
          <a href="https://instagram.com/RealyMedios" target="_blank" title="Instagram">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="https://tiktok.com/@RealyMediosRadio" target="_blank" title="TikTok">
            <i class="fab fa-tiktok"></i>
          </a>
          <a href="https://wa.me/584127047374" target="_blank" title="WhatsApp">
            <i class="fab fa-whatsapp"></i>
          </a>
        </div>
      </div>
      
      <div class="media-player">
        <div class="player-info">
          <div class="now-playing">
            <div class="music-indicator"></div>
            <div class="player-info-text" id="metadata">Cargando información...</div>
          </div>
          <div class="listeners">
            <i class="fas fa-users"></i>
            <span id="connections">0 oyentes</span>
          </div>
        </div>
        
        <div class="media-controls">
          <button id="playButton" class="control-btn play-btn" title="Reproducir">
            <i class="fas fa-play"></i>
          </button>
          <button id="pauseButton" class="control-btn play-btn" style="display: none;" title="Pausar">
            <i class="fas fa-pause"></i>
          </button>
          <button id="muteButton" class="control-btn" title="Silenciar">
            <i class="fas fa-volume-up"></i>
          </button>
        </div>
        
        <div id="connecting-message">
          <div class="loading"></div>
          Conectando, por favor espere...
        </div>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main>
    <section class="hero-section">
      <h2>Tu Radio Real</h2>
      <p>Transmitiendo música variada las 24 horas del día para todos los oyentes.</p>
      <div class="status-badge">
        <i class="fas fa-broadcast-tower"></i> En Periodo de Prueba
      </div>
    </section>

    <!-- Podcasts (carrusel) -->
    <section id="podcasts">
      <h3>Podcasts Recientes</h3>
      <div class="carousel-container">
        <div class="carousel" id="podcast-carousel">
          <div class="carousel-item">
            <iframe src="https://www.youtube.com/embed/cx8XB2yHk-M?si" frameborder="0" allowfullscreen></iframe>
            <div class="carousel-item-content">
              <h4>Episodio 1: Video Podcast</h4>
              <p>Descubre nuestro primer episodio donde exploramos los temas más interesantes de la semana.</p>
            </div>
          </div>
          <div class="carousel-item">
            <iframe src="https://www.youtube.com/embed/VIDEO_ID_EPISODIO2" frameborder="0" allowfullscreen></iframe>
            <div class="carousel-item-content">
              <h4>Episodio 2: Videos Podcast</h4>
              <p>En este episodio entrevistamos a artistas locales y hablamos sobre su proceso creativo.</p>
            </div>
          </div>
          <div class="carousel-item">
            <iframe src="https://www.youtube.com/embed/VIDEO_ID_EPISODIO3" frameborder="0" allowfullscreen></iframe>
            <div class="carousel-item-content">
              <h4>Episodio 3: Videos Podcast</h4>
              <p>Exploramos las tendencias musicales actuales y lo que está por venir en la industria.</p>
            </div>
          </div>
        </div>
        <div class="carousel-controls">
          <button class="carousel-btn" id="podcast-prev">
            <i class="fas fa-chevron-left"></i>
          </button>
          <button class="carousel-btn" id="podcast-next">
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
        <div class="carousel-indicators" id="podcast-indicators"></div>
      </div>
    </section>

    <!-- Galería de fotos (carrusel) -->
    <section id="gallery">
      <h3>Galería de Fotos</h3>
      <div class="carousel-container">
        <div class="carousel" id="gallery-carousel">
          <div class="carousel-item">
            <img src="https://picsum.photos/seed/radio1/800/600.jpg" alt="Foto 1">
            <div class="carousel-item-content">
              <h4>Estudio Principal</h4>
              <p>Nuestro estudio principal donde se graban los programas más populares.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="https://picsum.photos/seed/radio2/800/600.jpg" alt="Foto 2">
            <div class="carousel-item-content">
              <h4>Equipo de Producción</h4>
              <p>El talentoso equipo detrás de RealyMedios Radio.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="https://picsum.photos/seed/radio3/800/600.jpg" alt="Foto 3">
            <div class="carousel-item-content">
              <h4>Evento Especial</h4>
              <p>Transmisión en vivo desde nuestro evento anual de música.</p>
            </div>
          </div>
        </div>
        <div class="carousel-controls">
          <button class="carousel-btn" id="gallery-prev">
            <i class="fas fa-chevron-left"></i>
          </button>
          <button class="carousel-btn" id="gallery-next">
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
        <div class="carousel-indicators" id="gallery-indicators"></div>
      </div>
    </section>

    <!-- Sección de videos (eventos destacados o detrás de cámaras) -->
    <section id="videos">
      <h3>Videos Destacados</h3>
      <div class="carousel-container">
        <div class="carousel" id="videos-carousel">
          <div class="carousel-item">
            <iframe src="https://www.youtube.com/embed/VIDEO_ID_EVENTO1" frameborder="0" allowfullscreen></iframe>
            <div class="carousel-item-content">
              <h4>Concierto Exclusivo</h4>
              <p>Transmisión completa del concierto que organizamos el mes pasado.</p>
            </div>
          </div>
          <div class="carousel-item">
            <iframe src="https://www.youtube.com/embed/VIDEO_ID_EVENTO2" frameborder="0" allowfullscreen></iframe>
            <div class="carousel-item-content">
              <h4>Entrevista Exclusiva</h4>
              <p>Charla con uno de los artistas más influyentes del momento.</p>
            </div>
          </div>
          <div class="carousel-item">
            <iframe src="https://www.youtube.com/embed/VIDEO_ID_EVENTO3" frameborder="0" allowfullscreen></iframe>
            <div class="carousel-item-content">
              <h4>Detrás de Cámaras</h4>
              <p>Un vistazo a cómo funciona nuestra radio día a día.</p>
            </div>
          </div>
        </div>
        <div class="carousel-controls">
          <button class="carousel-btn" id="videos-prev">
            <i class="fas fa-chevron-left"></i>
          </button>
          <button class="carousel-btn" id="videos-next">
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
        <div class="carousel-indicators" id="videos-indicators"></div>
      </div>
    </section>

    <!-- Encuesta -->
    <section id="polls">
      <h3>Encuesta</h3>
      <p>¿Qué tipo de música prefieres?</p>
      <button class="poll-btn" onclick="openPoll()">
        <i class="fas fa-poll"></i> Votar Ahora
      </button>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-social">
        <a href="https://instagram.com/RealyMedios" target="_blank" title="Instagram">
          <i class="fab fa-instagram"></i>
        </a>
        <a href="https://tiktok.com/@RealyMediosRadio" target="_blank" title="TikTok">
          <i class="fab fa-tiktok"></i>
        </a>
        <a href="https://wa.me/584127047374" target="_blank" title="WhatsApp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </div>
      <div class="footer-info">
        <p><i class="fab fa-instagram"></i> Instagram: @RealyMedios</p>
        <p><i class="fab fa-tiktok"></i> TikTok: @RealyMediosRadio</p>
        <p><i class="fab fa-whatsapp"></i> WhatsApp: 0412.7047374</p>
      </div>
      <div class="copyright">
        <p>© 2025 RealyMedios Radio. Todos los derechos reservados.</p>
      </div>
    </div>
  </footer>

  <!-- Toast notification -->
  <div class="toast" id="toast"></div>

  <!-- Incluir Howler.js desde CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>

  <!-- JavaScript -->
  <script>
    // Elementos del DOM
    const playButton = document.getElementById('playButton');
    const pauseButton = document.getElementById('pauseButton');
    const muteButton = document.getElementById('muteButton');
    const connectingMessage = document.getElementById('connecting-message');
    const metadataDiv = document.getElementById('metadata');
    const connectionsDiv = document.getElementById('connections');
    const toast = document.getElementById('toast');

    // URLs de audio
    const initialMessageUrl = 'Mensaje.mp3';
    const streamUrl = 'https://stream.realymedio.online/stream';

    // Variables de estado
    let sound = null;
    let isMuted = false;
    let isPlaying = false;

    // Mostrar mensaje de conexión
    function showConnectingMessage() {
      connectingMessage.style.display = 'block';
    }

    // Ocultar mensaje de conexión
    function hideConnectingMessage() {
      connectingMessage.style.display = 'none';
    }

    // Actualizar interfaz de usuario
    function updateUI(playing) {
      if (playing) {
        playButton.style.display = 'none';
        pauseButton.style.display = 'flex';
      } else {
        playButton.style.display = 'flex';
        pauseButton.style.display = 'none';
      }
    }

    // Mostrar notificación toast
    function showToast(message, duration = 3000) {
      toast.textContent = message;
      toast.classList.add('show');
      
      setTimeout(() => {
        toast.classList.remove('show');
      }, duration);
    }

    // Reproducir mensaje inicial
    function playInitialMessage() {
      showConnectingMessage();
      
      if (sound) {
        sound.unload();
      }

      sound = new Howl({
        src: [initialMessageUrl],
        html5: true,
        onend: function() {
          console.log('Mensaje inicial terminado, conectando a radio...');
          connectToRadio();
        },
        onloaderror: function() {
          console.error('Error al cargar mensaje inicial');
          showToast('Error al cargar el mensaje inicial');
          connectToRadio(); // Intentar conectar a radio si falla el mensaje
        }
      });

      sound.play();
      isPlaying = true;
      updateUI(true);
      showToast('Reproduciendo mensaje de bienvenida');
    }

    // Conectar al stream de radio
    function connectToRadio() {
      if (sound) {
        sound.unload();
      }

      sound = new Howl({
        src: [streamUrl],
        html5: true,
        format: ['mp3', 'aac'],
        onplay: function() {
          console.log('Reproduciendo radio');
          hideConnectingMessage();
          updateUI(true);
          showToast('Conectado a RealyMedios Radio');
        },
        onloaderror: function() {
          console.error('Error al conectar a la radio');
          hideConnectingMessage();
          updateUI(false);
          isPlaying = false;
          showToast('Error al conectar a la radio');
        },
        onplayerror: function() {
          console.error('Error al reproducir la radio');
          hideConnectingMessage();
          updateUI(false);
          isPlaying = false;
          showToast('Error al reproducir la radio');
        }
      });

      sound.play();
    }

    // Detener la reproducción
    function stopPlayback() {
      if (sound) {
        sound.stop();
      }
      hideConnectingMessage();
      updateUI(false);
      isPlaying = false;
      showToast('Reproducción detenida');
    }

    // Obtener metadatos y conexiones
    async function fetchMetadata() {
      try {
        const response = await fetch('https://stream.realymedio.online/status-json.xsl');
        const data = await response.json();
        
        if (data.icestats && data.icestats.source) {
          metadataDiv.textContent = `Ahora sonando: ${data.icestats.source.title || 'Información no disponible'}`;
          connectionsDiv.textContent = `${data.icestats.source.listeners || 0} oyentes`;
        }
      } catch (error) {
        console.error('Error al obtener metadatos:', error);
        metadataDiv.textContent = 'Información no disponible';
        connectionsDiv.textContent = '0 oyentes';
      }
    }

    // Event listeners
    playButton.addEventListener('click', function() {
      if (!isPlaying) {
        playInitialMessage();
      }
    });

    pauseButton.addEventListener('click', function() {
      if (isPlaying) {
        stopPlayback();
      }
    });

    muteButton.addEventListener('click', function() {
      if (sound) {
        isMuted = !isMuted;
        sound.mute(isMuted);
        muteButton.innerHTML = isMuted ? '<i class="fas fa-volume-mute"></i>' : '<i class="fas fa-volume-up"></i>';
        showToast(isMuted ? 'Silenciado' : 'Sonido activado');
      }
    });

    // Actualizar metadatos cada 30 segundos
    setInterval(fetchMetadata, 30000);
    
    // Cargar metadatos iniciales
    fetchMetadata();

    // Función para abrir encuesta
    function openPoll() {
      window.open('https://docs.google.com/forms/d/e/1FAIpQLScyeH-GJQJLeUcT5UgF-SeHkt1dhggmQzHQx77rK3YHdVa0VQ/viewform', '_blank');
      showToast('Abriendo encuesta en una nueva pestaña');
    }

    // Funcionalidad de carrusel
    function initCarousel(carouselId, prevBtnId, nextBtnId, indicatorsId) {
      const carousel = document.getElementById(carouselId);
      const prevBtn = document.getElementById(prevBtnId);
      const nextBtn = document.getElementById(nextBtnId);
      const indicatorsContainer = document.getElementById(indicatorsId);
      
      if (!carousel) return;
      
      const items = carousel.querySelectorAll('.carousel-item');
      let currentIndex = 0;
      
      // Crear indicadores
      items.forEach((_, index) => {
        const indicator = document.createElement('div');
        indicator.classList.add('indicator');
        if (index === 0) indicator.classList.add('active');
        indicator.addEventListener('click', () => goToSlide(index));
        indicatorsContainer.appendChild(indicator);
      });
      
      const indicators = indicatorsContainer.querySelectorAll('.indicator');
      
      function updateCarousel() {
        carousel.style.transform = `translateX(-${currentIndex * 100}%)`;
        
        // Actualizar indicadores
        indicators.forEach((indicator, index) => {
          indicator.classList.toggle('active', index === currentIndex);
        });
      }
      
      function goToSlide(index) {
        currentIndex = index;
        updateCarousel();
      }
      
      function nextSlide() {
        currentIndex = (currentIndex + 1) % items.length;
        updateCarousel();
      }
      
      function prevSlide() {
        currentIndex = (currentIndex - 1 + items.length) % items.length;
        updateCarousel();
      }
      
      // Event listeners
      if (nextBtn) nextBtn.addEventListener('click', nextSlide);
      if (prevBtn) prevBtn.addEventListener('click', prevSlide);
      
      // Auto-play
      let interval = setInterval(nextSlide, 5000);
      
      // Pausar auto-play al pasar el mouse
      carousel.addEventListener('mouseenter', () => clearInterval(interval));
      carousel.addEventListener('mouseleave', () => {
        interval = setInterval(nextSlide, 5000);
      });
      
      // Touch events para móviles
      let touchStartX = 0;
      let touchEndX = 0;
      
      carousel.addEventListener('touchstart', e => {
        touchStartX = e.changedTouches[0].screenX;
      });
      
      carousel.addEventListener('touchend', e => {
        touchEndX = e.changedTouches[0].screenX;
        handleSwipe();
      });
      
      function handleSwipe() {
        if (touchEndX < touchStartX - 50) nextSlide();
        if (touchEndX > touchStartX + 50) prevSlide();
      }
    }

    // Inicializar carruseles
    document.addEventListener('DOMContentLoaded', function() {
      initCarousel('podcast-carousel', 'podcast-prev', 'podcast-next', 'podcast-indicators');
      initCarousel('gallery-carousel', 'gallery-prev', 'gallery-next', 'gallery-indicators');
      initCarousel('videos-carousel', 'videos-prev', 'videos-next', 'videos-indicators');
    });

    // Animación de elementos al hacer scroll
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.opacity = '1';
          entry.target.style.transform = 'translateY(0)';
        }
      });
    }, observerOptions);

    document.querySelectorAll('section').forEach(section => {
      section.style.opacity = '0';
      section.style.transform = 'translateY(20px)';
      section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
      observer.observe(section);
    });
  </script>
</body>
</html>
